//Авто Скейт слоя. +shift - убирает эффектfunction autoScale() {	var k = ScriptUI.environment.keyboardState;	var selComp = app.project.activeItem;	if (!selComp || !(selComp instanceof CompItem)) {		alert("Please select a composition first");		return;	}        var selLay = selComp.selectedLayers[0];         	if (!selLay) {		alert ("Выбери слой");		return	}	if (k.shiftKey == true) {		delEffect(selLay,"Speed Scale");		delEffect(selLay,"Revers Scale");		selLay.property("ADBE Transform Group").property("ADBE Scale").expression = "";	}	else {		if (!testEffect(selLay,"Speed Scale")){			var effect = selLay.property("ADBE Effect Parade").addProperty("ADBE Slider Control");			effect.name = "Speed Scale";			//effect.name = "Speed Rotation";			effect.property("ADBE Slider Control-0001").setValue(1);			var eff2 = selLay.property("ADBE Effect Parade").addProperty("ADBE Checkbox Control");			eff2.name = "Revers Scale";			selLay.selected = true;		}		selLay.property("ADBE Transform Group").property("ADBE Scale").expression = "s=effect(\"Speed Scale\")(\"Slider\");\naccum = 0;\nfor (var t = time; t > inPoint; t -= thisComp.frameDuration)\n  accum += s.valueAtTime(t)/" + selComp.frameRate + ";\nif (effect(\"Revers Scale\")(\"Checkbox\")==false) value+accum*[1,1];\nelse value-accum*[1,1]";	}}/* сам экспрешен на всякий случайs=effect("Speed Scale")("Slider");accum = 0;for (var t = time; t > inPoint; t -= thisComp.frameDuration)  accum += s.valueAtTime(t)/25;if (effect("Revers Scale")("Checkbox")==false) value+accum*[1,1];else value+accum*[-1,-1];*/    //All 08 функция проверки эффекта ============================    function testEffect (_layer, _name){        var eff = false;        var effects = _layer.property("ADBE Effect Parade");        for(var i = 1; i <= effects.numProperties; i++){            if(effects.property(i).name == _name) {                eff = true;                break;            }        }        return eff;    }    //All 08 end ============================================================================    //All 09 == функция удаления эффекта ============================    function delEffect(_layer, _name) {        if (_layer.property("ADBE Effect Parade").numProperties == 0) return;        for (var i=1; i <= _layer.property("ADBE Effect Parade").numProperties; i++){            if (_layer.property("ADBE Effect Parade").property(i).name == _name) _layer.property("ADBE Effect Parade").property(i).remove();        }    }    //All 09 end ============================================================================    //All 11 == функция создания эффекта ============================        function createEffect(_layer, _name, _effControl) {             var effect = _layer.property("ADBE Effect Parade").addProperty("ADBE " + _effControl + " Control");            effect.name = _name;        }    //All 11 end ============================================================================app.beginUndoGroup("-=autoScale=-");autoScale();app.endUndoGroup();